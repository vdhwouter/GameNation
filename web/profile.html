
<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Profile</title>
    <link rel="stylesheet" href="css/stylesProfile.css" />

</head>
<body>

<header>

</header>


<script type="text/javascript">

    function findGetParameter(parameterName) {
        var result = null,
                tmp = [];
        location.search
                .substr(1)
                .split("&")
                .forEach(function (item) {
                    tmp = item.split("=");
                    if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
                });
        return result;
    }

	var APICALL = function(){
		var request = new XMLHttpRequest();
		request.addEventListener('load',listen)
		request.open("get", 'http://localhost:8080/api/users/' + findGetParameter('username'), true);
		request.send();
	};

	var listen = function(){
		console.log(JSON.parse(this.responseText).username)
		document.getElementById('usernameVal').innerHTML = JSON.parse(this.responseText).username;
		document.getElementById('emailVal').innerHTML = JSON.parse(this.responseText).email;


		document.getElementById('namelVal').innerHTML = JSON.parse(this.responseText).firstname + ' ' + JSON.parse(this.responseText).lastname;
		document.getElementById('teamspeakVal').innerHTML = JSON.parse(this.responseText).teamspeak;
		document.getElementById('descriptionVal').innerHTML = JSON.parse(this.responseText).description;
		document.getElementById('discordVal').innerHTML = JSON.parse(this.responseText).discord;
	};


	APICALL();

</script>


<div class="wrapper">
<!-- content -->
    <h2>Profile</h2>
    <a href="settings.html?username=" class="btn" id="set"> Set profilepage</a>
    <div id="side">
    	<img id="profileImage" src="img/avatar-member.jpg"/>
        <img class="level" src="img/cirkel.png"/>
        <p class="level"> 35 </p>
    </div>

    <div id="profileData">
		<ul>
            <li>
                <p class=title>Username</p>
                <p id="usernameVal"></p>
            </li>
            <li>
                <p class=title>Name</p>
                <p id="namelVal"></p>
            </li>
            <li>
                <p class=title>E-mail</p>
                <p id="emailVal"></p>
            </li>
            <li>
                <p class=title>Teamspeak-Address</p>
                <p id="teamspeakVal"></p>
            </li>

            <li>
                <p class=title>Discord-Address</p>
                <p id="discordVal"></p>
            </li>

             <li>
                <p class=title>Description</p>
                <p id="descriptionVal"></p>
            </li>
        </ul>
	</div>

    <div id="games">
    	<h3>My games</h3>
    	<ul>
    		<li>
    			<a href="#">
    				<img class="game" src="img/payday.jpg"/>
    				<p>payday</p>
    			</a>
    		</li>
    		<li>
    			<a href="#">
    				<img class="game" src="img/payday.jpg"/>
    				<p>payday</p>
    			</a>
    		</li>
    		<li>
    			<a href="#">
    				<img class="game" src="img/payday.jpg"/>
    				<p>payday</p>
    			</a>
    		</li>
    		<li>
    			<a href="#">
    				<img class="game" src="img/payday.jpg"/>
    				<p>payday</p>
    			</a>
    		</li>
    		<li>
    			<a href="#">
    				<img class="game" src="img/payday.jpg"/>
    				<p>payday</p>
    			</a>
    		</li>
    		<li>
    			<a href="#">
    				<img class="game" src="img/payday.jpg"/>
    				<p>payday</p>
    			</a>
    		</li>
    		<li>
    			<a href="#">
    				<img class="game" src="img/payday.jpg"/>
    				<p>payday</p>
    			</a>
    		</li>
    		<li>
    			<a href="#">
    				<img class="game" src="img/payday.jpg"/>
    				<p>payday</p>
    			</a>
    		</li>
    		<li>
    			<a href="#">
    				<img class="game" src="img/payday.jpg"/>
    				<p>payday</p>
    			</a>
    		</li>
            <li>
                <a href="#">
                    <img class="game" src="img/payday.jpg"/>
                    <p>payday</p>
                </a>
            </li>
    	</ul>
    </div>
     <div id="games">
        <h3>My lobbies</h3>
        <ul>
            <li>
                <a href="#">
                    <img class="game" src="img/bench.png"/>
                    <p>lobby</p>
                </a>
            </li>
            <li>
                <a href="#">
                    <img class="game" src="img/bench.png"/>
                    <p>lobby</p>
                </a>
            </li>
            <li>
                <a href="#">
                    <img class="game" src="img/bench.png"/>
                    <p>lobby</p>
                </a>
            </li>
            <li>
                <a href="#">
                    <img class="game" src="img/bench.png"/>
                    <p>lobby</p>
                </a>
            </li>
            <li>
                <a href="#">
                    <img class="game" src="img/bench.png"/>
                    <p>lobby</p>
                </a>
            </li>
            <li>
                <a href="#">
                    <img class="game" src="img/bench.png"/>
                    <p>lobby</p>
                </a>
            </li>
            <li>
                <a href="#">
                    <img class="game" src="img/bench.png"/>
                    <p>lobby</p>
                </a>
            </li>
            <li>
                <a href="#">
                    <img class="game" src="img/bench.png"/>
                    <p>lobby</p>
                </a>
            </li>
            <li>
                <a href="#">
                    <img class="game" src="img/bench.png"/>
                    <p>lobby</p>
                </a>
            </li>
            <li>
                <a href="#">
                    <img class="game" src="img/bench.png"/>
                    <p>lobby</p>
                </a>
            </li>
        </ul>
    </div>
</div>
<script>
    document.getElementById('set').href += findGetParameter('username')
</script>

</body>
</html>
